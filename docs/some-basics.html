<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 1 Some basics | Representing data</title>
  <meta name="description" content="Examples of representing data with R for undergraduate students in Economics" />
  <meta name="generator" content="bookdown 0.35 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 1 Some basics | Representing data" />
  <meta property="og:type" content="book" />
  
  <meta property="og:description" content="Examples of representing data with R for undergraduate students in Economics" />
  <meta name="github-repo" content="eekostadinov/Refresher" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 1 Some basics | Representing data" />
  
  <meta name="twitter:description" content="Examples of representing data with R for undergraduate students in Economics" />
  

<meta name="author" content="Economics Department, University of Warwick" />


<meta name="date" content="2023-09-11" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="index.html"/>
<link rel="next" href="ch1.html"/>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/pagedtable-1.1/css/pagedtable.css" rel="stylesheet" />
<script src="libs/pagedtable-1.1/js/pagedtable.js"></script>
<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<style type="text/css">
  
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
</style>
<style type="text/css">
/* Used with Pandoc 2.11+ new --citeproc when CSL is used */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
}
.hanging div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Data Appreciation</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Preface</a>
<ul>
<li class="chapter" data-level="0.1" data-path="index.html"><a href="index.html#how-to-read-this-book"><i class="fa fa-check"></i><b>0.1</b> How to read this book</a>
<ul>
<li class="chapter" data-level="0.1.1" data-path="index.html"><a href="index.html#how-to-run-the-codes-yourself"><i class="fa fa-check"></i><b>0.1.1</b> How to run the codes yourself</a></li>
</ul></li>
<li class="chapter" data-level="0.2" data-path="index.html"><a href="index.html#additional-resources-on-r"><i class="fa fa-check"></i><b>0.2</b> Additional resources on R</a></li>
<li class="chapter" data-level="0.3" data-path="index.html"><a href="index.html#additional-resources-on-transitioning-to-economics"><i class="fa fa-check"></i><b>0.3</b> Additional resources on transitioning to economics</a></li>
</ul></li>
<li class="chapter" data-level="1" data-path="some-basics.html"><a href="some-basics.html"><i class="fa fa-check"></i><b>1</b> Some basics</a>
<ul>
<li class="chapter" data-level="1.1" data-path="some-basics.html"><a href="some-basics.html#data"><i class="fa fa-check"></i><b>1.1</b> Data</a>
<ul>
<li class="chapter" data-level="1.1.1" data-path="some-basics.html"><a href="some-basics.html#cross-sectional-time-series-and-panel-data"><i class="fa fa-check"></i><b>1.1.1</b> Cross-sectional, time-series, and panel data</a></li>
<li class="chapter" data-level="1.1.2" data-path="some-basics.html"><a href="some-basics.html#visualizing-the-structure-of-your-data"><i class="fa fa-check"></i><b>1.1.2</b> Visualizing the structure of your data</a></li>
<li class="chapter" data-level="1.1.3" data-path="some-basics.html"><a href="some-basics.html#categorical-and-quantitative-variables"><i class="fa fa-check"></i><b>1.1.3</b> Categorical and quantitative variables</a></li>
</ul></li>
<li class="chapter" data-level="1.2" data-path="some-basics.html"><a href="some-basics.html#a-note-on-r-packages"><i class="fa fa-check"></i><b>1.2</b> A note on R packages</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="ch1.html"><a href="ch1.html"><i class="fa fa-check"></i><b>2</b> Representing differences in living standards across countries and over time</a>
<ul>
<li class="chapter" data-level="2.1" data-path="ch1.html"><a href="ch1.html#representing-cross-sectional-data-cross-country-differences-in-living-standards-in-2019"><i class="fa fa-check"></i><b>2.1</b> Representing cross sectional data: Cross-country differences in living standards in 2019</a>
<ul>
<li class="chapter" data-level="2.1.1" data-path="ch1.html"><a href="ch1.html#loading-data"><i class="fa fa-check"></i><b>2.1.1</b> Loading data</a></li>
<li class="chapter" data-level="2.1.2" data-path="ch1.html"><a href="ch1.html#summary-of-key-variables"><i class="fa fa-check"></i><b>2.1.2</b> Summary of key variables</a></li>
<li class="chapter" data-level="2.1.3" data-path="ch1.html"><a href="ch1.html#maps-for-fun"><i class="fa fa-check"></i><b>2.1.3</b> Maps (for fun)</a></li>
<li class="chapter" data-level="2.1.4" data-path="ch1.html"><a href="ch1.html#histograms"><i class="fa fa-check"></i><b>2.1.4</b> Histograms</a></li>
<li class="chapter" data-level="2.1.5" data-path="ch1.html"><a href="ch1.html#quantiles"><i class="fa fa-check"></i><b>2.1.5</b> Quantiles</a></li>
<li class="chapter" data-level="2.1.6" data-path="ch1.html"><a href="ch1.html#quantile-function"><i class="fa fa-check"></i><b>2.1.6</b> Quantile function</a></li>
<li class="chapter" data-level="2.1.7" data-path="ch1.html"><a href="ch1.html#visualizing-distribution-within-and-between-regions"><i class="fa fa-check"></i><b>2.1.7</b> Visualizing distribution within and between regions</a></li>
<li class="chapter" data-level="2.1.8" data-path="ch1.html"><a href="ch1.html#representing-relationships-between-continuous-variables"><i class="fa fa-check"></i><b>2.1.8</b> Representing relationships between continuous variables</a></li>
</ul></li>
<li class="chapter" data-level="2.2" data-path="ch1.html"><a href="ch1.html#representing-time-series-data-real-gdp-per-capita-in-uk-over-time"><i class="fa fa-check"></i><b>2.2</b> Representing time-series data: Real GDP per capita in UK over time</a>
<ul>
<li class="chapter" data-level="2.2.1" data-path="ch1.html"><a href="ch1.html#time-series-line-plots"><i class="fa fa-check"></i><b>2.2.1</b> Time-series line plots</a></li>
<li class="chapter" data-level="2.2.2" data-path="ch1.html"><a href="ch1.html#time-series-line-plots-of-the-log-transformation"><i class="fa fa-check"></i><b>2.2.2</b> Time-series line plots of the log transformation</a></li>
<li class="chapter" data-level="2.2.3" data-path="ch1.html"><a href="ch1.html#recessions"><i class="fa fa-check"></i><b>2.2.3</b> Recessions</a></li>
<li class="chapter" data-level="2.2.4" data-path="ch1.html"><a href="ch1.html#growth-rates"><i class="fa fa-check"></i><b>2.2.4</b> Growth rates</a></li>
<li class="chapter" data-level="2.2.5" data-path="ch1.html"><a href="ch1.html#distributions-again"><i class="fa fa-check"></i><b>2.2.5</b> Distributions again</a></li>
</ul></li>
<li class="chapter" data-level="2.3" data-path="ch1.html"><a href="ch1.html#representing-panel-data-cross-country-differences-in-living-standards-over-time---convergence-and-divergence"><i class="fa fa-check"></i><b>2.3</b> Representing panel data: Cross-country differences in living standards over time - convergence and divergence</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="ch2.html"><a href="ch2.html"><i class="fa fa-check"></i><b>3</b> Representing climate change</a>
<ul>
<li class="chapter" data-level="3.1" data-path="ch2.html"><a href="ch2.html#global-trends"><i class="fa fa-check"></i><b>3.1</b> Global trends</a>
<ul>
<li class="chapter" data-level="3.1.1" data-path="ch2.html"><a href="ch2.html#monthly-global-surface-temperature"><i class="fa fa-check"></i><b>3.1.1</b> Monthly global surface temperature</a></li>
<li class="chapter" data-level="3.1.2" data-path="ch2.html"><a href="ch2.html#changes-in-ice-mass"><i class="fa fa-check"></i><b>3.1.2</b> Changes in ice mass</a></li>
<li class="chapter" data-level="3.1.3" data-path="ch2.html"><a href="ch2.html#sea-level"><i class="fa fa-check"></i><b>3.1.3</b> Sea level</a></li>
<li class="chapter" data-level="3.1.4" data-path="ch2.html"><a href="ch2.html#co2-concentration"><i class="fa fa-check"></i><b>3.1.4</b> CO2 concentration</a></li>
<li class="chapter" data-level="3.1.5" data-path="ch2.html"><a href="ch2.html#co2-emissions"><i class="fa fa-check"></i><b>3.1.5</b> CO2 emissions</a></li>
<li class="chapter" data-level="3.1.6" data-path="ch2.html"><a href="ch2.html#co2-emissions-and-gni-per-capita"><i class="fa fa-check"></i><b>3.1.6</b> CO2 emissions and GNI per capita</a></li>
</ul></li>
<li class="chapter" data-level="3.2" data-path="ch2.html"><a href="ch2.html#uk-trends"><i class="fa fa-check"></i><b>3.2</b> UK trends</a>
<ul>
<li class="chapter" data-level="3.2.1" data-path="ch2.html"><a href="ch2.html#uk-temperatures"><i class="fa fa-check"></i><b>3.2.1</b> UK temperatures</a></li>
<li class="chapter" data-level="3.2.2" data-path="ch2.html"><a href="ch2.html#uk-rainfall"><i class="fa fa-check"></i><b>3.2.2</b> UK Rainfall</a></li>
<li class="chapter" data-level="3.2.3" data-path="ch2.html"><a href="ch2.html#uk-co2-emissions"><i class="fa fa-check"></i><b>3.2.3</b> UK CO2 emissions</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="4" data-path="ch3.html"><a href="ch3.html"><i class="fa fa-check"></i><b>4</b> Representing income inequality</a>
<ul>
<li class="chapter" data-level="4.1" data-path="ch3.html"><a href="ch3.html#distribution-of-income-in-the-frs-201617"><i class="fa fa-check"></i><b>4.1</b> Distribution of income in the FRS 2016/17</a>
<ul>
<li class="chapter" data-level="4.1.1" data-path="ch3.html"><a href="ch3.html#summary-of-data"><i class="fa fa-check"></i><b>4.1.1</b> Summary of data</a></li>
<li class="chapter" data-level="4.1.2" data-path="ch3.html"><a href="ch3.html#distribution-of-income-dispersion-and-skewness"><i class="fa fa-check"></i><b>4.1.2</b> Distribution of income: dispersion and skewness</a></li>
<li class="chapter" data-level="4.1.3" data-path="ch3.html"><a href="ch3.html#income-differences-between-and-within-groups-of-individuals"><i class="fa fa-check"></i><b>4.1.3</b> Income differences between and within groups of individuals</a></li>
<li class="chapter" data-level="4.1.4" data-path="ch3.html"><a href="ch3.html#quantitative-measures-of-income-inequality"><i class="fa fa-check"></i><b>4.1.4</b> Quantitative measures of income inequality</a></li>
</ul></li>
<li class="chapter" data-level="4.2" data-path="ch3.html"><a href="ch3.html#cross-country-differences-in-income-inequality"><i class="fa fa-check"></i><b>4.2</b> Cross-country differences in income inequality</a></li>
<li class="chapter" data-level="4.3" data-path="ch3.html"><a href="ch3.html#income-inequality-over-time"><i class="fa fa-check"></i><b>4.3</b> Income inequality over time</a></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Representing data</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="some-basics" class="section level1 hasAnchor" number="1">
<h1><span class="header-section-number">Chapter 1</span> Some basics<a href="some-basics.html#some-basics" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<p>This chapter discusses some essential concepts related to data and data analysis in R, and should be read prior to the subsequent chapters of the book.</p>
<p>For ease of replication, all the data used in this chapter is available as an Excel file <code>data_ch0.xlsx</code>.</p>
<ul>
<li>You can replicate all analysis in the cloud <a href="https://mybinder.org/v2/gh/eekostadinov/Refresher/notebooks">here</a>.</li>
<li>Alternatively, to replicate the chapter in your own R installation, download the data file and corrsponding R-script from <a href="https://github.com/eekostadinov/Refresher/tree/data-and-rscripts">here</a> and extract them inside a folder on your computer. Then set the working directory in R to the folder where the files are. For me, this is the following folder:</li>
</ul>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1-1"><a href="some-basics.html#cb1-1" tabindex="-1"></a><span class="fu">setwd</span>(<span class="st">&quot;/home/emil/Desktop/book&quot;</span>)</span></code></pre></div>
<p>In addition, run the following code to install all the R libraries that will be used for the analysis</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2-1"><a href="some-basics.html#cb2-1" tabindex="-1"></a><span class="fu">install.packages</span>(<span class="st">&quot;readxl&quot;</span>)</span>
<span id="cb2-2"><a href="some-basics.html#cb2-2" tabindex="-1"></a><span class="fu">install.packages</span>(<span class="st">&quot;dplyr&quot;</span>)</span>
<span id="cb2-3"><a href="some-basics.html#cb2-3" tabindex="-1"></a><span class="fu">install.packages</span>(<span class="st">&quot;ggplot2&quot;</span>)</span>
<span id="cb2-4"><a href="some-basics.html#cb2-4" tabindex="-1"></a><span class="fu">install.packages</span>(<span class="st">&quot;tidyr&quot;</span>)</span></code></pre></div>
<p>and load them</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb3-1"><a href="some-basics.html#cb3-1" tabindex="-1"></a><span class="fu">library</span>(readxl)</span>
<span id="cb3-2"><a href="some-basics.html#cb3-2" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span>
<span id="cb3-3"><a href="some-basics.html#cb3-3" tabindex="-1"></a><span class="fu">library</span>(ggplot2)</span>
<span id="cb3-4"><a href="some-basics.html#cb3-4" tabindex="-1"></a><span class="fu">library</span>(tidyr)</span></code></pre></div>
<div id="data" class="section level2 hasAnchor" number="1.1">
<h2><span class="header-section-number">1.1</span> Data<a href="some-basics.html#data" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>While a precise definition of <em>data</em> is beyond the scope of this book, for practical purposes data can be understood as a structured collection of observations on a number of characteristics or variables. Data is typically organized into a structure in the form of a table (or matrix) with rows corresponding to distinct observations and columns corresponding to different variables.</p>
<p>Data could be obtained in a variety of ways and from a variety of sources, and prior to analyzing data it is essential to understand the structure of the dataset obtained from a given source.</p>
<p>While the rest of the book uses larger datasets, for clarity this chapter uses a mini-dataset obtained as a subsample of the data from the <a href="ch1.html#ch1">next chapter</a>. This “mini-data” is stored in the Excel file <code>data_ch0.xlsx</code> under the sheet <code>mini</code>. First, load the data into R, allocating it to a <em>dataframe</em><a href="#fn1" class="footnote-ref" id="fnref1"><sup>1</sup></a> called <code>data</code>, and print it as follows</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb4-1"><a href="some-basics.html#cb4-1" tabindex="-1"></a>data <span class="ot">&lt;-</span> <span class="fu">read_excel</span>(<span class="st">&quot;data_ch0.xlsx&quot;</span>, <span class="at">sheet=</span><span class="st">&quot;mini&quot;</span>)</span>
<span id="cb4-2"><a href="some-basics.html#cb4-2" tabindex="-1"></a></span>
<span id="cb4-3"><a href="some-basics.html#cb4-3" tabindex="-1"></a>data</span></code></pre></div>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":["Country"],"name":[1],"type":["chr"],"align":["left"]},{"label":["Region"],"name":[2],"type":["chr"],"align":["left"]},{"label":["2019"],"name":[3],"type":["dbl"],"align":["right"]},{"label":["2020"],"name":[4],"type":["dbl"],"align":["right"]},{"label":["2021"],"name":[5],"type":["dbl"],"align":["right"]}],"data":[{"1":"Bangladesh","2":"South Asia","3":"2210","4":"2300","5":"2570"},{"1":"Switzerland","2":"Europe and Central Asia","3":"83160","4":"82490","5":"88910"},{"1":"Turkmenistan","2":"Europe and Central Asia","3":"7080","4":"NA","5":"NA"},{"1":"UK","2":"Europe and Central Asia","3":"43380","4":"38590","5":"44790"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
<p>The “mini-dataset” includes information on region and GNI per capita (PPP)<a href="#fn2" class="footnote-ref" id="fnref2"><sup>2</sup></a> in 2019, 2020 and 2021 for four countries. The data is structured in the form of a table with each row corresponding to an individual country. It includes the country’s region in the second column. Finally, the value of GNI per capita (PPP) for years 2019-2021 is represented in separate columns, labeled by the year. Note that there is some missing data (the GNI per capita (PPP) of Turkmenistan in 2020 and 2021).</p>
<div id="cross-sectional-time-series-and-panel-data" class="section level3 hasAnchor" number="1.1.1">
<h3><span class="header-section-number">1.1.1</span> Cross-sectional, time-series, and panel data<a href="some-basics.html#cross-sectional-time-series-and-panel-data" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>One important aspect of data structure is whether the data is cross-sectional, time-series, or panel.</p>
<ul>
<li><em>Cross-sectional</em> data consists of observations on subjects (such as individuals, firms, countries) at a single point or period of time.</li>
<li><em>Time-series</em> data consists of observations of a single subject over several points or periods of time.</li>
<li><em>Panel</em> (or <em>longitudinal</em>) data consists of observations on subjects over points or periods of time. It has both cross-sectional and time-series dimensions.</li>
</ul>
<p>The data loaded above is an example of panel data, as it includes observations on four cross-sectional units (countries) for three distinct periods of time (years).</p>
<div id="panel-data---long-and-wide-form" class="section level4 hasAnchor" number="1.1.1.1">
<h4><span class="header-section-number">1.1.1.1</span> Panel data - long and wide form<a href="some-basics.html#panel-data---long-and-wide-form" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>When panel data is structured so that cross-sectional units vary across rows and time periods across columns (as above) it is said to be in <em>wide form</em>. While wide form is seemingly a natural way to arrange data, for most computational purposes it is more appropriate to arrange panel data in <em>long form</em> - i.e., collapsing the time period so that a row of the data now identifies a cross-sectional unit at a specific period of time:</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb5-1"><a href="some-basics.html#cb5-1" tabindex="-1"></a>long.data <span class="ot">&lt;-</span> data <span class="sc">%&gt;%</span> </span>
<span id="cb5-2"><a href="some-basics.html#cb5-2" tabindex="-1"></a>  <span class="fu">pivot_longer</span>(</span>
<span id="cb5-3"><a href="some-basics.html#cb5-3" tabindex="-1"></a>    <span class="at">cols =</span> <span class="st">`</span><span class="at">2019</span><span class="st">`</span><span class="sc">:</span><span class="st">`</span><span class="at">2021</span><span class="st">`</span>, </span>
<span id="cb5-4"><a href="some-basics.html#cb5-4" tabindex="-1"></a>    <span class="at">names_to =</span> <span class="st">&quot;Year&quot;</span>,</span>
<span id="cb5-5"><a href="some-basics.html#cb5-5" tabindex="-1"></a>    <span class="at">values_to =</span> <span class="st">&quot;GNIpc&quot;</span></span>
<span id="cb5-6"><a href="some-basics.html#cb5-6" tabindex="-1"></a>  )</span>
<span id="cb5-7"><a href="some-basics.html#cb5-7" tabindex="-1"></a></span>
<span id="cb5-8"><a href="some-basics.html#cb5-8" tabindex="-1"></a>long.data</span></code></pre></div>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":["Country"],"name":[1],"type":["chr"],"align":["left"]},{"label":["Region"],"name":[2],"type":["chr"],"align":["left"]},{"label":["Year"],"name":[3],"type":["chr"],"align":["left"]},{"label":["GNIpc"],"name":[4],"type":["dbl"],"align":["right"]}],"data":[{"1":"Bangladesh","2":"South Asia","3":"2019","4":"2210"},{"1":"Bangladesh","2":"South Asia","3":"2020","4":"2300"},{"1":"Bangladesh","2":"South Asia","3":"2021","4":"2570"},{"1":"Switzerland","2":"Europe and Central Asia","3":"2019","4":"83160"},{"1":"Switzerland","2":"Europe and Central Asia","3":"2020","4":"82490"},{"1":"Switzerland","2":"Europe and Central Asia","3":"2021","4":"88910"},{"1":"Turkmenistan","2":"Europe and Central Asia","3":"2019","4":"7080"},{"1":"Turkmenistan","2":"Europe and Central Asia","3":"2020","4":"NA"},{"1":"Turkmenistan","2":"Europe and Central Asia","3":"2021","4":"NA"},{"1":"UK","2":"Europe and Central Asia","3":"2019","4":"43380"},{"1":"UK","2":"Europe and Central Asia","3":"2020","4":"38590"},{"1":"UK","2":"Europe and Central Asia","3":"2021","4":"44790"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[12],"max":[12]},"pages":{}}}
  </script>
</div>
<p>The same dataset in “long” form has 12 observations, with each observation (row) corresponding to a country in a given year. The dataset includes 4 variables (columns) identifying the country, its region, the year, and the country’s GNI per capita (PPP) in the specific year.</p>
<p>As a side note, panel data in long form can also be transformed into wide form:</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb6-1"><a href="some-basics.html#cb6-1" tabindex="-1"></a>wide.data <span class="ot">&lt;-</span> long.data <span class="sc">%&gt;%</span></span>
<span id="cb6-2"><a href="some-basics.html#cb6-2" tabindex="-1"></a>  <span class="fu">pivot_wider</span>(<span class="at">names_from =</span> Year, <span class="at">values_from =</span> GNIpc)</span>
<span id="cb6-3"><a href="some-basics.html#cb6-3" tabindex="-1"></a></span>
<span id="cb6-4"><a href="some-basics.html#cb6-4" tabindex="-1"></a>wide.data</span></code></pre></div>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":["Country"],"name":[1],"type":["chr"],"align":["left"]},{"label":["Region"],"name":[2],"type":["chr"],"align":["left"]},{"label":["2019"],"name":[3],"type":["dbl"],"align":["right"]},{"label":["2020"],"name":[4],"type":["dbl"],"align":["right"]},{"label":["2021"],"name":[5],"type":["dbl"],"align":["right"]}],"data":[{"1":"Bangladesh","2":"South Asia","3":"2210","4":"2300","5":"2570"},{"1":"Switzerland","2":"Europe and Central Asia","3":"83160","4":"82490","5":"88910"},{"1":"Turkmenistan","2":"Europe and Central Asia","3":"7080","4":"NA","5":"NA"},{"1":"UK","2":"Europe and Central Asia","3":"43380","4":"38590","5":"44790"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
<div id="cross-sectional-data" class="section level4 hasAnchor" number="1.1.1.2">
<h4><span class="header-section-number">1.1.1.2</span> Cross-sectional data<a href="some-basics.html#cross-sectional-data" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>An example of cross-sectional data, is the subset of the panel data above, at a particular year only. It has the following structure:</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb7-1"><a href="some-basics.html#cb7-1" tabindex="-1"></a>cs.data <span class="ot">&lt;-</span> <span class="fu">subset</span>(long.data, Year<span class="sc">==</span><span class="dv">2021</span>)</span>
<span id="cb7-2"><a href="some-basics.html#cb7-2" tabindex="-1"></a></span>
<span id="cb7-3"><a href="some-basics.html#cb7-3" tabindex="-1"></a>cs.data</span></code></pre></div>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":["Country"],"name":[1],"type":["chr"],"align":["left"]},{"label":["Region"],"name":[2],"type":["chr"],"align":["left"]},{"label":["Year"],"name":[3],"type":["chr"],"align":["left"]},{"label":["GNIpc"],"name":[4],"type":["dbl"],"align":["right"]}],"data":[{"1":"Bangladesh","2":"South Asia","3":"2021","4":"2570"},{"1":"Switzerland","2":"Europe and Central Asia","3":"2021","4":"88910"},{"1":"Turkmenistan","2":"Europe and Central Asia","3":"2021","4":"NA"},{"1":"UK","2":"Europe and Central Asia","3":"2021","4":"44790"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
<p>In the context of our dataset, cross-sectional data is appropriate for understanding differences in living standards (measured by GNI per capita (PPP)) between countries (and between and within regions) at a specific point in time.</p>
</div>
<div id="time-series-data" class="section level4 hasAnchor" number="1.1.1.3">
<h4><span class="header-section-number">1.1.1.3</span> Time-series data<a href="some-basics.html#time-series-data" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>An example of time-series data, is the subset of the panel data above, for a particular country only. It has the following structure:</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb8-1"><a href="some-basics.html#cb8-1" tabindex="-1"></a>ts.data <span class="ot">&lt;-</span> <span class="fu">subset</span>(long.data, Country<span class="sc">==</span><span class="st">&quot;UK&quot;</span>)</span>
<span id="cb8-2"><a href="some-basics.html#cb8-2" tabindex="-1"></a></span>
<span id="cb8-3"><a href="some-basics.html#cb8-3" tabindex="-1"></a>ts.data</span></code></pre></div>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":["Country"],"name":[1],"type":["chr"],"align":["left"]},{"label":["Region"],"name":[2],"type":["chr"],"align":["left"]},{"label":["Year"],"name":[3],"type":["chr"],"align":["left"]},{"label":["GNIpc"],"name":[4],"type":["dbl"],"align":["right"]}],"data":[{"1":"UK","2":"Europe and Central Asia","3":"2019","4":"43380"},{"1":"UK","2":"Europe and Central Asia","3":"2020","4":"38590"},{"1":"UK","2":"Europe and Central Asia","3":"2021","4":"44790"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
<p>In the context of our dataset, time-series data is appropriate for understanding the dynamic evolution of living standards (measured by GNI per capita (PPP)) in a given country over time.</p>
<p>As panel data has both cross-sectional and time-series dimensions, it is appropriate for analyzing both cross-country differences and dynamic evolution of living standards over time.</p>
</div>
</div>
<div id="visualizing-the-structure-of-your-data" class="section level3 hasAnchor" number="1.1.2">
<h3><span class="header-section-number">1.1.2</span> Visualizing the structure of your data<a href="some-basics.html#visualizing-the-structure-of-your-data" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>As illustrated above, before starting any data analysis, it is essential to get a clear understanding of the structure of your data. For this reason, it is important to always inspect the data (i.e., the “table” or rows and columns), understanding what does an observation (row of data) identify, how are variables (columns of data) recorded, and so forth. In the rest of the book, whenever new dataset is loaded we will explicitly print the first few rows of the data to clarify the structure. In R, this can be easily done by using the function <code>head()</code> which will print the first few rows of a dataframe. The syntax is <code>head(name_of_dataframe)</code>.</p>
<p>While this is often sufficient for the purposes of the book, when you use more complicated datasets it is better to view the data in the data browser, using the function <code>View()</code> with syntax <code>View(name_of_dataframe)</code> which will return the whole “table” of data.</p>
</div>
<div id="categorical-and-quantitative-variables" class="section level3 hasAnchor" number="1.1.3">
<h3><span class="header-section-number">1.1.3</span> Categorical and quantitative variables<a href="some-basics.html#categorical-and-quantitative-variables" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Another important aspect of the data is the nature of the variables in it. A complete discussion of the types of variables and data types in R is beyond the scope of the document but a key distinction relevant for the subsequent analysis is between quantitative and qualitative (categorical) variables.</p>
<p>To set ideas, consider the cross-sectional mini-dataset <code>cs.data</code> obtained above, consisting of 4 variables - <code>Country</code>, <code>Region</code>, <code>Year</code> and <code>GNIpc</code>.</p>
<ul>
<li>GNI per capita (measured in PPP adjusted international dollars) is clearly a quantitative variable. If we summarize the variable in R we can see that it has been correctly identified as quantitative</li>
</ul>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb9-1"><a href="some-basics.html#cb9-1" tabindex="-1"></a><span class="fu">summary</span>(cs.data<span class="sc">$</span>GNIpc)</span></code></pre></div>
<pre><code>##    Min. 1st Qu.  Median    Mean 3rd Qu.    Max.    NA&#39;s 
##    2570   23680   44790   45423   66850   88910       1</code></pre>
<p>as the <code>summary()</code> function reports a number of summary statistics of the distribution (e.g. mean, median, etc).</p>
<ul>
<li>Region is clearly a categorical variable, as there is no single natural order of its possible values. We can see that among the four countries in the mini-dataset, three are from Europe and Central Asia, and one from South Asia. However, if we summarize the variable in R</li>
</ul>
<div class="sourceCode" id="cb11"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb11-1"><a href="some-basics.html#cb11-1" tabindex="-1"></a><span class="fu">summary</span>(cs.data<span class="sc">$</span>Region)</span></code></pre></div>
<pre><code>##    Length     Class      Mode 
##         4 character character</code></pre>
<p>we see that it is classified as <code>character</code> (meaning text or string) which means that R does not recognize that three of the countries are from the same region. In such situations, it is important to explicitly tell R that the variable is categorical. In R, categorical variables are referred to as factor variables. We can declare the variable to be categorical as follows:</p>
<div class="sourceCode" id="cb13"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb13-1"><a href="some-basics.html#cb13-1" tabindex="-1"></a>cs.data<span class="sc">$</span>Region <span class="ot">&lt;-</span> <span class="fu">as.factor</span>(cs.data<span class="sc">$</span>Region) </span></code></pre></div>
<p>Now note that a summary of the variable</p>
<div class="sourceCode" id="cb14"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb14-1"><a href="some-basics.html#cb14-1" tabindex="-1"></a><span class="fu">summary</span>(cs.data<span class="sc">$</span>Region)</span></code></pre></div>
<pre><code>## Europe and Central Asia              South Asia 
##                       3                       1</code></pre>
<p>correctly recognises that the data consists of 3 countries from Europe and Central Asia and one country from South Asia.</p>
<p>While this discussion is not necessarily crucial for understanding the data representations in the rest of the book, it is important for understanding some bits of code, as we will often have to declare the type of variables.</p>
</div>
</div>
<div id="a-note-on-r-packages" class="section level2 hasAnchor" number="1.2">
<h2><span class="header-section-number">1.2</span> A note on R packages<a href="some-basics.html#a-note-on-r-packages" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>While a large number of functions are available as default in any R installation, one of the strengths of R, relative to other languages for statistical analysis, is that it has an extensive collection of user-contributed packages (collections of functions) which extend its functionality beyond the basis packages.</p>
<p>In order to use such packages within your code you need to first install the relevant package by typing <code>install.packages("name_of_package")</code> and then loading them inside your code by typing <code>library(name_of_package)</code>. You will see that all chapters of the book use a variety of user-contributed packages which are installed and loaded in the beginning of the code. For example, at the beginning of this chapter we loaded four packages:</p>
<ul>
<li><code>readxl</code> - which includes a number of functions for reading data from Excel files. One of the functions in the package is <code>read_excel()</code> which we used to read data from the Excel file. Since this is not a <em>base</em> function, the statement <code>data &lt;- read_excel("data_ch0.xlsx")</code> would not have worked if we had not first installed and loaded the package.</li>
<li><code>dplyr</code> and <code>tidyr</code> - which include a large number of functions for reorganizing data. Without this the <code>pivot_longer()</code> function that we used to convert the panel dataset from wide to long format (this would have been possible with base R functions but much more cumbersome)</li>
<li><code>ggplot2</code> - this is an excellent package for producing graphs. At this stage we have not yet used the package but it will be used extensively throughout the book.</li>
</ul>
<p>While a discussion of all the packages used is beyond the scope of the book, you can find all the key information related to them online. However, given the emphasis on producing graphs for the rest of the book, we will conclude this section with a brief discussion of the <code>ggplot2</code> package <span class="citation">(<a href="#ref-ggplot">Wickham, 2016</a>)</span>. To illustrate the use of <code>ggplot()</code> we load the second sheet from the <code>data_ch0.xlsx</code> file and allocate it to a dataframe <code>csdata</code></p>
<div class="sourceCode" id="cb16"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb16-1"><a href="some-basics.html#cb16-1" tabindex="-1"></a>csdata <span class="ot">&lt;-</span> <span class="fu">read_excel</span>(<span class="st">&quot;data_ch0.xlsx&quot;</span>, <span class="at">sheet=</span><span class="st">&quot;csdata&quot;</span>)</span>
<span id="cb16-2"><a href="some-basics.html#cb16-2" tabindex="-1"></a></span>
<span id="cb16-3"><a href="some-basics.html#cb16-3" tabindex="-1"></a>csdata</span></code></pre></div>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":["Country"],"name":[1],"type":["chr"],"align":["left"]},{"label":["Year"],"name":[2],"type":["dbl"],"align":["right"]},{"label":["GNIpc"],"name":[3],"type":["dbl"],"align":["right"]}],"data":[{"1":"Afghanistan","2":"2019","3":"530"},{"1":"Albania","2":"2019","3":"5230"},{"1":"Algeria","2":"2019","3":"4050"},{"1":"American Samoa","2":"2019","3":"NA"},{"1":"Andorra","2":"2019","3":"46530"},{"1":"Angola","2":"2019","3":"2040"},{"1":"Antigua","2":"2019","3":"17480"},{"1":"Argentina","2":"2019","3":"11220"},{"1":"Armenia","2":"2019","3":"4880"},{"1":"Aruba","2":"2019","3":"30330"},{"1":"Australia","2":"2019","3":"54900"},{"1":"Austria","2":"2019","3":"51020"},{"1":"Azerbaijan","2":"2019","3":"4510"},{"1":"Bahamas","2":"2019","3":"30350"},{"1":"Bahrain","2":"2019","3":"24420"},{"1":"Bangladesh","2":"2019","3":"2210"},{"1":"Barbados","2":"2019","3":"17630"},{"1":"Belarus","2":"2019","3":"6370"},{"1":"Belgium","2":"2019","3":"48110"},{"1":"Belize","2":"2019","3":"5890"},{"1":"Benin","2":"2019","3":"1200"},{"1":"Bermuda","2":"2019","3":"117280"},{"1":"Bhutan","2":"2019","3":"3130"},{"1":"Bolivia","2":"2019","3":"3440"},{"1":"Bosnia and Herzegovina","2":"2019","3":"6160"},{"1":"Botswana","2":"2019","3":"6630"},{"1":"Brazil","2":"2019","3":"9220"},{"1":"Virgin Islands","2":"2019","3":"NA"},{"1":"Brunei","2":"2019","3":"31880"},{"1":"Bulgaria","2":"2019","3":"9510"},{"1":"Burkina Faso","2":"2019","3":"750"},{"1":"Burundi","2":"2019","3":"230"},{"1":"Cape Verde","2":"2019","3":"3960"},{"1":"Cambodia","2":"2019","3":"1560"},{"1":"Cameroon","2":"2019","3":"1540"},{"1":"Canada","2":"2019","3":"46600"},{"1":"Cayman Islands","2":"2019","3":"65690"},{"1":"Central African Republic","2":"2019","3":"470"},{"1":"Chad","2":"2019","3":"690"},{"1":"Jersey","2":"2019","3":"NA"},{"1":"Chile","2":"2019","3":"14830"},{"1":"China","2":"2019","3":"10310"},{"1":"Colombia","2":"2019","3":"6590"},{"1":"Comoros","2":"2019","3":"1520"},{"1":"Democratic Republic of the Congo","2":"2019","3":"510"},{"1":"Republic of Congo","2":"2019","3":"1980"},{"1":"Costa Rica","2":"2019","3":"12040"},{"1":"Ivory Coast","2":"2019","3":"2280"},{"1":"Croatia","2":"2019","3":"15380"},{"1":"Cuba","2":"2019","3":"8920"},{"1":"Curacao","2":"2019","3":"19700"},{"1":"Cyprus","2":"2019","3":"28560"},{"1":"Czech Republic","2":"2019","3":"22120"},{"1":"Denmark","2":"2019","3":"63140"},{"1":"Djibouti","2":"2019","3":"2820"},{"1":"Dominica","2":"2019","3":"8240"},{"1":"Dominican Republic","2":"2019","3":"7990"},{"1":"Ecuador","2":"2019","3":"6100"},{"1":"Egypt","2":"2019","3":"2690"},{"1":"El Salvador","2":"2019","3":"4090"},{"1":"Equatorial Guinea","2":"2019","3":"5520"},{"1":"Eritrea","2":"2019","3":"NA"},{"1":"Estonia","2":"2019","3":"23010"},{"1":"Ethiopia","2":"2019","3":"830"},{"1":"Faroe Islands","2":"2019","3":"66380"},{"1":"Fiji","2":"2019","3":"5610"},{"1":"Finland","2":"2019","3":"49940"},{"1":"France","2":"2019","3":"42460"},{"1":"French Polynesia","2":"2019","3":"NA"},{"1":"Gabon","2":"2019","3":"6950"},{"1":"Gambia","2":"2019","3":"700"},{"1":"Georgia","2":"2019","3":"4690"},{"1":"Germany","2":"2019","3":"49220"},{"1":"Ghana","2":"2019","3":"2150"},{"1":"Greece","2":"2019","3":"19690"},{"1":"Greenland","2":"2019","3":"NA"},{"1":"Grenada","2":"2019","3":"8920"},{"1":"Guam","2":"2019","3":"NA"},{"1":"Guatemala","2":"2019","3":"4620"},{"1":"Guinea","2":"2019","3":"940"},{"1":"Guinea-Bissau","2":"2019","3":"780"},{"1":"Guyana","2":"2019","3":"6500"},{"1":"Haiti","2":"2019","3":"1410"},{"1":"Honduras","2":"2019","3":"2330"},{"1":"Hungary","2":"2019","3":"16570"},{"1":"Iceland","2":"2019","3":"72980"},{"1":"India","2":"2019","3":"2080"},{"1":"Indonesia","2":"2019","3":"4070"},{"1":"Iran","2":"2019","3":"4000"},{"1":"Iraq","2":"2019","3":"5470"},{"1":"Ireland","2":"2019","3":"63570"},{"1":"Isle of Man","2":"2019","3":"84490"},{"1":"Israel","2":"2019","3":"44070"},{"1":"Italy","2":"2019","3":"34930"},{"1":"Jamaica","2":"2019","3":"5500"},{"1":"Japan","2":"2019","3":"41970"},{"1":"Jordan","2":"2019","3":"4180"},{"1":"Kazakhstan","2":"2019","3":"8820"},{"1":"Kenya","2":"2019","3":"1890"},{"1":"Kiribati","2":"2019","3":"3230"},{"1":"North Korea","2":"2019","3":"NA"},{"1":"South Korea","2":"2019","3":"33830"},{"1":"Kosovo","2":"2019","3":"4640"},{"1":"Kuwait","2":"2019","3":"34490"},{"1":"Kyrgyzstan","2":"2019","3":"1240"},{"1":"Laos","2":"2019","3":"2520"},{"1":"Latvia","2":"2019","3":"17830"},{"1":"Lebanon","2":"2019","3":"8650"},{"1":"Lesotho","2":"2019","3":"1250"},{"1":"Liberia","2":"2019","3":"610"},{"1":"Libya","2":"2019","3":"10680"},{"1":"Liechtenstein","2":"2019","3":"NA"},{"1":"Lithuania","2":"2019","3":"19080"},{"1":"Luxembourg","2":"2019","3":"77500"},{"1":"North Macedonia","2":"2019","3":"5890"},{"1":"Madagascar","2":"2019","3":"510"},{"1":"Malawi","2":"2019","3":"550"},{"1":"Malaysia","2":"2019","3":"10960"},{"1":"Maldives","2":"2019","3":"10160"},{"1":"Mali","2":"2019","3":"820"},{"1":"Malta","2":"2019","3":"29370"},{"1":"Marshall Islands","2":"2019","3":"6750"},{"1":"Mauritania","2":"2019","3":"1790"},{"1":"Mauritius","2":"2019","3":"12130"},{"1":"Mexico","2":"2019","3":"9660"},{"1":"Micronesia","2":"2019","3":"4030"},{"1":"Moldova","2":"2019","3":"4490"},{"1":"Monaco","2":"2019","3":"NA"},{"1":"Mongolia","2":"2019","3":"3840"},{"1":"Montenegro","2":"2019","3":"9140"},{"1":"Morocco","2":"2019","3":"3500"},{"1":"Mozambique","2":"2019","3":"490"},{"1":"Myanmar","2":"2019","3":"1300"},{"1":"Namibia","2":"2019","3":"5270"},{"1":"Nauru","2":"2019","3":"15550"},{"1":"Nepal","2":"2019","3":"1220"},{"1":"Netherlands","2":"2019","3":"51930"},{"1":"New Caledonia","2":"2019","3":"NA"},{"1":"New Zealand","2":"2019","3":"43110"},{"1":"Nicaragua","2":"2019","3":"1880"},{"1":"Niger","2":"2019","3":"590"},{"1":"Nigeria","2":"2019","3":"2080"},{"1":"Northern Mariana Islands","2":"2019","3":"NA"},{"1":"Norway","2":"2019","3":"82430"},{"1":"Oman","2":"2019","3":"17810"},{"1":"Pakistan","2":"2019","3":"1570"},{"1":"Palau","2":"2019","3":"17150"},{"1":"Panama","2":"2019","3":"15470"},{"1":"Papua New Guinea","2":"2019","3":"2510"},{"1":"Paraguay","2":"2019","3":"5940"},{"1":"Peru","2":"2019","3":"6770"},{"1":"Philippines","2":"2019","3":"3770"},{"1":"Poland","2":"2019","3":"15330"},{"1":"Portugal","2":"2019","3":"23200"},{"1":"Puerto Rico","2":"2019","3":"22040"},{"1":"Qatar","2":"2019","3":"61790"},{"1":"Romania","2":"2019","3":"12670"},{"1":"Russia","2":"2019","3":"11280"},{"1":"Rwanda","2":"2019","3":"810"},{"1":"Samoa","2":"2019","3":"4230"},{"1":"San Marino","2":"2019","3":"44390"},{"1":"Sao Tome and Principe","2":"2019","3":"1960"},{"1":"Saudi Arabia","2":"2019","3":"23180"},{"1":"Senegal","2":"2019","3":"1460"},{"1":"Serbia","2":"2019","3":"7040"},{"1":"Seychelles","2":"2019","3":"16140"},{"1":"Sierra Leone","2":"2019","3":"520"},{"1":"Singapore","2":"2019","3":"58910"},{"1":"Sint Maarten","2":"2019","3":"31030"},{"1":"Slovakia","2":"2019","3":"19200"},{"1":"Slovenia","2":"2019","3":"26040"},{"1":"Solomon Islands","2":"2019","3":"2390"},{"1":"Somalia","2":"2019","3":"410"},{"1":"South Africa","2":"2019","3":"6730"},{"1":"South Sudan","2":"2019","3":"NA"},{"1":"Spain","2":"2019","3":"30360"},{"1":"Sri Lanka","2":"2019","3":"4220"},{"1":"Saint Kitts","2":"2019","3":"23340"},{"1":"Saint Lucia","2":"2019","3":"11040"},{"1":"Saint Martin","2":"2019","3":"NA"},{"1":"Saint Vincent","2":"2019","3":"8640"},{"1":"Sudan","2":"2019","3":"940"},{"1":"Suriname","2":"2019","3":"6020"},{"1":"Swaziland","2":"2019","3":"3640"},{"1":"Sweden","2":"2019","3":"56470"},{"1":"Switzerland","2":"2019","3":"83160"},{"1":"Syria","2":"2019","3":"980"},{"1":"Tajikistan","2":"2019","3":"1070"},{"1":"Tanzania","2":"2019","3":"1040"},{"1":"Thailand","2":"2019","3":"7080"},{"1":"Timor-Leste","2":"2019","3":"2110"},{"1":"Togo","2":"2019","3":"880"},{"1":"Tonga","2":"2019","3":"5130"},{"1":"Trinidad","2":"2019","3":"15620"},{"1":"Tunisia","2":"2019","3":"3540"},{"1":"Turkey","2":"2019","3":"9690"},{"1":"Turkmenistan","2":"2019","3":"7080"},{"1":"Turks and Caicos Islands","2":"2019","3":"26960"},{"1":"Uganda","2":"2019","3":"810"},{"1":"Ukraine","2":"2019","3":"3310"},{"1":"United Arab Emirates","2":"2019","3":"46210"},{"1":"UK","2":"2019","3":"43380"},{"1":"USA","2":"2019","3":"66130"},{"1":"Uruguay","2":"2019","3":"18170"},{"1":"Uzbekistan","2":"2019","3":"1880"},{"1":"Vanuatu","2":"2019","3":"3590"},{"1":"Venezuela","2":"2019","3":"NA"},{"1":"Vietnam","2":"2019","3":"3340"},{"1":"Palestine","2":"2019","3":"4270"},{"1":"Yemen","2":"2019","3":"NA"},{"1":"Zambia","2":"2019","3":"1390"},{"1":"Zimbabwe","2":"2019","3":"1450"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
<p>Observe that the new dataset loaded is now a cross-section of observations for GNI per capita for 212 countries in 2019. We will say more about this data in the next chapter, but at this stage suppose that we want to produce a histogram summarizing the distribution of GNI per capita across countries in 2019.</p>
<p>R has a base in-built function <code>hist()</code> for producing histograms which we can use to produce a histogram of the GNI per capita distribution in our data as follows:</p>
<div class="sourceCode" id="cb17"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb17-1"><a href="some-basics.html#cb17-1" tabindex="-1"></a><span class="fu">hist</span>(csdata<span class="sc">$</span>GNIpc)</span></code></pre></div>
<p><img src="01-Introduction_files/figure-html/unnamed-chunk-11-1.png" width="672" /></p>
<p>While the R’s base in-built library for graphs <code>graphics</code> is sufficiently extensive (you can find more about it <a href="https://www.rdocumentation.org/packages/graphics/versions/3.6.2">here</a>), for the remainder of this book we will make use of the more advanced and customizable library <code>ggplot2</code> (more <a href="https://ggplot2.tidyverse.org/">here</a>).</p>
<p>To produce a histogram using <code>ggplot2</code></p>
<div class="sourceCode" id="cb18"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb18-1"><a href="some-basics.html#cb18-1" tabindex="-1"></a><span class="fu">ggplot</span>(csdata, <span class="fu">aes</span>(<span class="at">x=</span>GNIpc)) <span class="sc">+</span> </span>
<span id="cb18-2"><a href="some-basics.html#cb18-2" tabindex="-1"></a>  <span class="fu">geom_histogram</span>()</span></code></pre></div>
<p><img src="01-Introduction_files/figure-html/unnamed-chunk-12-1.png" width="672" /></p>
<p>Before proceeding further let’s briefly discuss the philosophy of the <code>ggplot</code> syntax.</p>
<ul>
<li><code>ggplot</code> is called through the function <code>ggplot()</code> which takes as first argument the name of the dataframe used (and possibly specification of <em>aesthetics</em> - see below).</li>
<li>Then with <code>+</code> we add <em>layers</em> of types of graphs we want to plot. In the above example <code>geom_histogram()</code> specifies we are to plot a histogram. We could instead use <code>geom_bar()</code> for barcharts, <code>geom_boxplot()</code> for boxplots, and so forth. You will see many examples of layers in the book.</li>
<li>Either inside <code>ggplot()</code> or inside <code>geom_...()</code> we need to specify the variables based on which the graph is to be plotted. In <code>ggplot</code> this is specified via <em>aesthetics</em> through a function <code>aes()</code>. Loosely, this refers to a set of statements about what is being plotted - e.g., what goes on <code>x</code> and/or <code>y</code> axis, should different groups be plotted in different colors, etc.</li>
<li>Then all this can be customized further, by adding labels, color schemes, etc, as we will see throughout the book.</li>
</ul>
<p>For example, we can customize the histogram further, by changing the color and fill, adding labels and titles as below:</p>
<div class="sourceCode" id="cb19"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb19-1"><a href="some-basics.html#cb19-1" tabindex="-1"></a><span class="fu">ggplot</span>(csdata, <span class="fu">aes</span>(<span class="at">x=</span>GNIpc)) <span class="sc">+</span> </span>
<span id="cb19-2"><a href="some-basics.html#cb19-2" tabindex="-1"></a>  <span class="fu">geom_histogram</span>(<span class="at">bins=</span><span class="dv">60</span>, <span class="at">color=</span><span class="st">&quot;black&quot;</span>, <span class="at">fill=</span><span class="st">&quot;red&quot;</span>, <span class="at">alpha=</span><span class="fl">0.5</span>)<span class="sc">+</span></span>
<span id="cb19-3"><a href="some-basics.html#cb19-3" tabindex="-1"></a>  <span class="fu">xlab</span>(<span class="st">&quot;GNI per capita, PPP (2019)&quot;</span>) <span class="sc">+</span> <span class="fu">ylab</span>(<span class="st">&quot;Number of countries&quot;</span>) <span class="sc">+</span></span>
<span id="cb19-4"><a href="some-basics.html#cb19-4" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title=</span><span class="st">&quot;Histogram&quot;</span>,</span>
<span id="cb19-5"><a href="some-basics.html#cb19-5" tabindex="-1"></a>       <span class="at">subtitle=</span><span class="st">&quot;Distribution of real GNI per capita across countries, 2019&quot;</span>)</span></code></pre></div>
<p><img src="01-Introduction_files/figure-html/unnamed-chunk-13-1.png" width="672" /></p>
<p>This all sounds quite complicated, but the philosophy of plotting will hopefully become increasingly clear through examples.</p>

</div>
</div>
<h3>References</h3>
<div id="refs" class="references csl-bib-body hanging-indent">
<div id="ref-ggplot" class="csl-entry">
Wickham, H., 2016. <a href="https://ggplot2.tidyverse.org">ggplot2: Elegant graphics for data analysis</a>. Springer-Verlag New York.
</div>
</div>
<div class="footnotes">
<hr />
<ol start="1">
<li id="fn1"><p>In R and many other programming languages, a <em>dataframe</em> is a named object storing data in a 2-dimensional table of rows and columns, similarly to a spreadsheet.<a href="some-basics.html#fnref1" class="footnote-back">↩︎</a></p></li>
<li id="fn2"><p><strong>Gross National Income (GNI)</strong> is the total income earned by a country’s residents (individuals or companies) from both domestic and foreign sources over a period of time. GNI is closely related to GDP, but accounts differently for income earned domestically and abroad.</p>
<ul>
<li>For example, when a UK resident earns income from operations in both UK and France, the income earned in France is part of UK’s GNI (but not UK’s GDP) and France’s GDP (but not France’s GNI).</li>
</ul>
<p><strong>GNI per capita (GNI pc)</strong>, the average income earned by a country’s residents, is commonly used as a measure of material standard of living. However, given differences in price levels across countries, the same amount of income will have the “power” to purchase different amounts of goods and services in different countries. In order to account for this, the World Bank produces Purchasing Power Parity (PPP) adjusted measures of GNI per capita, which are more suitable for comparisons of living standard between countries.</p>
<p>In particular, in what follows we use data GNI per capita PPP-adjusted by the so called <em>Atlas method</em> - the indicator based on which the World Bank groups countries into low, middle, and high-income.<a href="some-basics.html#fnref2" class="footnote-back">↩︎</a></p></li>
</ol>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="index.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="ch1.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["refresher-book.pdf"],
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "subsection"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/latest.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
